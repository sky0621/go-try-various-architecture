# backend

## サンプル業務要件
組織に所属するユーザーがナレッジを共有できるようにしたい。

### ■登場するオブジェクト
- ユーザー（user）
- 組織（organization）
- ナレッジ（knowledge）
- タグ（tag）
- ロール（role）・・・「システム管理者」、「組織管理者」、「認証ユーザー」、「ゲストユーザー」
- お知らせ（notice）

### ■仕様

#### ●「システム管理者」ロールのユーザーができること。
- システム初期化時に登録した「メールアドレス」と「パスワード」でシステムにログインすることができる。
- 「ルート組織」を作成することができる。
- 「ルート組織」を更新することができる。
- 「ルート組織」を削除することができる。（ただし、対象「ルート組織」に対して「組織管理者」ロールのユーザーが存在する場合は不可）
- 「ルート組織」を参照することができる。
- 「組織管理者」ロールのユーザーを作成することができる。（必ず１つ以上の「ルート組織」に所属する。）
- 「組織管理者」ロールのユーザーを更新することができる。
- 「組織管理者」ロールのユーザーを削除することができる。
- 「組織管理者」ロールのユーザーを一括削除することができる。
- 「組織管理者」ロールのユーザーを参照することができる。
- 「お知らせ」を登録することができる。
- 「お知らせ」を更新することができる。
- 「お知らせ」を削除することができる。
- 「お知らせ」を参照することができる。

#### ●「組織管理者」ロールのユーザーができること。
- 「組織管理者」ロールのユーザー作成時に登録した「メールアドレス」と「パスワード」でシステムにログインすることができる。
- 「サブ組織」を作成することができる。
- 「サブ組織」を更新することができる。
- 「サブ組織」を削除することができる。
- 「サブ組織」を参照することができる。
- 「認証ユーザー」ロールのユーザーを作成することができる。（所属する「サブ組織」を選択しなかった場合は「組織管理者」ロールのユーザーと同じ「ルート組織」に所属する）
- 「認証ユーザー」ロールのユーザーを更新することができる。
- 「認証ユーザー」ロールのユーザーを削除することができる。
- 「認証ユーザー」ロールのユーザーを一括削除することができる。
- 「認証ユーザー」ロールのユーザーを参照することができる。
- 「ナレッジ」を登録することができる。（「一般公開」、「組織内公開」、「非公開」を選択可）
- 「ナレッジ」を更新することができる。
- 「ナレッジ」を削除することができる。
- 「ナレッジ」を参照することができる。
- 「タグ」を登録することができる。
- 「タグ」を「ナレッジ」に付与することができる。
- 「タグ」を「ナレッジ」から除去することができる。
- 「タグ」を削除することができる。（ただし、付与された「ナレッジ」が存在しない場合のみ）
- 「お知らせ」を登録することができる。（ただし、「組織管理者」ロールのユーザーが所属する「ルート組織」配下に所属する「認証ユーザー」ロールのユーザーのみ参照可となる）
- 「お知らせ」を更新することができる。
- 「お知らせ」を削除することができる。
- 「お知らせ」を参照することができる。

#### ●「認証ユーザー」ロールのユーザーができること。
- 「認証ユーザー」ロールのユーザー作成時に登録した「メールアドレス」と「パスワード」でシステムにログインすることができる。
- 「ナレッジ」を登録することができる。（「一般公開」、「組織内公開」、「非公開」を選択可）
- 「ナレッジ」を更新することができる。
- 「ナレッジ」を削除することができる。
- 「ナレッジ」を参照することができる。
- 「タグ」を登録することができる。
- 「タグ」を「ナレッジ」に付与することができる。
- 「タグ」を「ナレッジ」から除去することができる。
- 「タグ」を削除することができる。（ただし、付与された「ナレッジ」が存在しない場合のみ）
- 「お知らせ」を参照することができる。

#### ●「ゲストユーザー」ロールのユーザーができること。
- メールアドレス「guest@example.com」、パスワード「guest」でシステムにログインすることができる。
- 「ナレッジ」を参照することができる。（ただし、「一般公開」されたもののみ）
